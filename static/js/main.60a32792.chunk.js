(this["webpackJsonpreact-tictactoe"]=this["webpackJsonpreact-tictactoe"]||[]).push([[0],[,,function(e,t,n){e.exports={root:"Space_root__3EmfC",open:"Space_open__3PZqm",symbol:"Space_symbol__2D9HM"}},function(e,t,n){e.exports={message:"App_message__1bgJE",btn:"App_btn__aBDMl",github:"App_github__2ty2b"}},,,,function(e,t,n){e.exports={root:"Column_root__3k8N7"}},function(e,t,n){e.exports={root:"TicTacToe_root__ITQpp"}},,function(e,t,n){e.exports=n(17)},,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),s=n.n(o);const i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}var l=n(4),u=n.n(l);const h=a.a.createContext(),p=(e,t)=>({type:"MAKE_MOVE",x:e,y:t});var m=n(2),d=n.n(m);const b=a.a.memo(({value:e,x:t,y:n})=>{const o=Object(r.useContext)(h),s=[d.a.root],i=Object(r.useCallback)(()=>o(p(t,n)),[o,t,n]);let c=String.fromCharCode(160);return 1===e?c="X":2===e?c="O":s.push(d.a.open),a.a.createElement("div",{className:s.join(" "),onClick:i},a.a.createElement("div",{className:d.a.symbol},c))},(e,t)=>e.value===t.value);b.displayName="TicTacToeSpace";var w=b,f=n(7),g=n.n(f);const v=a.a.memo(({rows:e,x:t})=>a.a.createElement("div",{className:g.a.root},e.map((e,n)=>a.a.createElement(w,{key:`${t}_${n}`,value:e,x:t,y:n}))),(e,t)=>e.rows.every((e,n)=>t.rows[n]===e)&&e.x===t.x);v.displayName="TicTacToeColumn",v.propTypes={rows:u.a.array.isRequired,x:u.a.number.isRequired};var y=v,x=n(8),E=n.n(x);function _(e,t){return t+e.reduce((e,t)=>e+t,"")}const P=({columns:e})=>a.a.createElement("div",{className:E.a.root},e.map((e,t)=>a.a.createElement(y,{key:_(e,t),rows:e,x:t})));P.displayName="TicTacToe";var k=P;const O=[[0,0],[2,0],[0,2],[2,2]];function T({winner:e},t=0){return e?t+(1===e?9:-9):0}function j(e){return 8===e.openSpaces.length?function({board:e}){return 0===e[1][1]?[1,1]:O[Math.floor(4*Math.random())]}(e):function e(t,n=0){if(n>=9)throw new Error("Minimax reached impossible depth");if(0!==t.winner)return{score:T(t,n)};const r=[],a=[];t.openSpaces.forEach(o=>{const{score:s}=e(t.cloneMove.apply(t,o),n+1);r.push(o),a.push(s)});const o=a.indexOf(Math[1===t.nextPlayer?"max":"min"].apply(Math,a));return{move:r[o],score:a[o]}}(e).move}var M=n(1),C=n(9);const N=[[[0,0],[0,1],[0,2]],[[0,0],[1,0],[2,0]],[[2,0],[2,1],[2,2]],[[0,2],[1,2],[2,2]],[[1,0],[1,1],[1,2]],[[0,1],[1,1],[2,1]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]];function S([e,t],[n,r],[a,o]){const s=this[e][t];return this[n][r]===s&&this[a][o]===s?s:0}function A(e){const t=e.openSpaces;if(t.length>4)return 0;let n=N.length,r=0;do{r=S.apply(e.board,N[n-1]),n--}while(!r&&n>0);return r||0!==t.length?r:-1}const R=(e,t)=>e>=0&&e<3&&t>=0&&t<3;var W=Object(C.a)("state");class B{constructor(e){Object.defineProperty(this,W,{writable:!0,value:void 0}),this.reset(e)}get board(){return Object(M.a)(this,W)[W].board}get nextPlayer(){return Object(M.a)(this,W)[W].nextPlayer}get openSpaces(){const e=[];for(let t=0;t<3;t++)for(let n=0;n<3;n++)this.board[t][n]||e.push([t,n]);return e}get winner(){return Object(M.a)(this,W)[W].winner}reset(e){return Object(M.a)(this,W)[W]={board:[[0,0,0],[0,0,0],[0,0,0]],nextPlayer:1,winner:0,...e},e&&(Object(M.a)(this,W)[W].winner=A(this)),Object(M.a)(this,W)[W]}move(e,t){const n=Object(M.a)(this,W)[W];return!R(e,t)||0!==this.winner||this.board[e][t]||(n.board[e][t]=n.nextPlayer,n.winner=A(this),n.nextPlayer=1===n.nextPlayer?2:1),n}cloneMove(e,t){if(!R(e,t)||0!==this.winner||this.board[e][t])return this;const n=this.board.map(e=>e.slice());return n[e][t]=this.nextPlayer,new B({board:n,nextPlayer:1===this.nextPlayer?2:1})}}const G=new B,q={board:[[0,0,0],[0,0,0],[0,0,0]],nextPlayer:1,winner:0},J=({board:e,nextPlayer:t,winner:n})=>({board:e,nextPlayer:t,winner:n});function U(e,{type:t,x:n,y:r}){switch(t){case"MAKE_MOVE":return J(G.move(n,r));case"RESET_GAME":return J(G.reset());default:return e}}var $=n(3),D=n.n($);const I=()=>{const[e,t]=Object(r.useReducer)(U,q),n=Object(r.useCallback)(()=>t({type:"RESET_GAME"}),[t]);Object(r.useEffect)(()=>{0===e.winner&&2===e.nextPlayer&&t(p.apply(G,j(G)))});let o="Game on! :)";return e.winner>0?o="Player "+e.winner+" has won the game!":-1===e.winner&&(o="The game has been drawn!"),a.a.createElement(a.a.Fragment,null,a.a.createElement(h.Provider,{value:t},a.a.createElement(k,{columns:e.board})),a.a.createElement("div",{className:D.a.message},o),a.a.createElement("button",{className:D.a.btn,onClick:n},"Reset Game"),a.a.createElement("div",{className:D.a.github},a.a.createElement("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&repo=react-tictactoe&type=star",title:"github-star",width:"51px"}),a.a.createElement("iframe",{frameBorder:"0",height:"20px",scrolling:"0",src:"https://ghbtns.com/github-btn.html?user=awkaiser&type=follow",title:"github-follow",width:"123px"})))};I.displayName="App";var K=I;s.a.render(a.a.createElement(K,null),document.getElementById("tictactoe")),function(e){if("serviceWorker"in navigator){if(new URL("/react-tictactoe",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/react-tictactoe/service-worker.js";i?(!function(e,t){fetch(e).then(n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):c(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):c(t,e)})}}()}],[[10,1,2]]]);
//# sourceMappingURL=main.60a32792.chunk.js.map